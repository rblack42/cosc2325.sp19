


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Lab 1: The Dance Simulator &#8212; COSC2325 fall2018 documentation</title>
    <link rel="stylesheet" href="../../../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../../../_static/cloud.base.js"></script>
    <script type="text/javascript" src="../../../_static/cloud.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
    <li><a href="../../../index.html">COSC2325 fall2018 documentation</a> &#187;</li>
 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="lab-1-the-dance-simulator">
<h1>Lab 1: The Dance Simulator<a class="headerlink" href="#lab-1-the-dance-simulator" title="Permalink to this headline">¶</a></h1>
<p>For your first lab assignment in this class, I want you to create a C++/Python
program that simulates the dance (version 1) that we did in class. There is C++
starter code at the end of this note.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The provided code is my solution, stripped of the details needed to make it
work. It is not a “good” program. It lives in a single file, does not use
classes, and it has those evil global variables. That is by design. I want
to to craft your own code, doing as good a job as you can. Use my code as a
guide to help you put together the needed parts.</p>
</div>
<div class="section" id="general-lab-repository">
<h2>General Lab Repository<a class="headerlink" href="#general-lab-repository" title="Permalink to this headline">¶</a></h2>
<p>We will do a few individual lab projects in this class. As we are doing for the
homework problems, we will set up aa repository inside of which you will create
folders for these labs. The invitation you need to set up this repository is
here:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://classroom.github.com/a/JM1LkAOv">COSC2325-002</a></li>
</ul>
</div></blockquote>
<p>Accept this repository, then clone it onto your workstation as we did for the
homework repository.</p>
</div>
<div class="section" id="design-in-teams-code-on-your-own">
<h2>Design in Teams, Code on Your Own<a class="headerlink" href="#design-in-teams-code-on-your-own" title="Permalink to this headline">¶</a></h2>
<p>For this lab, I want you to form up into teams of three or four classmates.
(Less will be allowed only if needed - more is not allowed.) Your team should
talk through the design of this simulation. After you talk, write your own
code. You can look at each other’s code, but no sharing of files is allowed. I
want you to fee that you wrote this code, and I expect you to do real original
work to put this together. You can help each other get this done and put into
your repository as needed to submit this. The “team” is done, when all team
members have code on <a class="reference external" href="https://github.com/">GitHub</a>.</p>
</div>
<div class="section" id="sample-output">
<h2>Sample Output<a class="headerlink" href="#sample-output" title="Permalink to this headline">¶</a></h2>
<p>The output from this sample program is something I want you to reproduce, as
best as you can. My solution uses the rules in the lecture, so you should be
able to duplicate the output.</p>
<p>Here is a sample run for dance version 1:</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">sample-run</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">dance</span> <span class="o">-</span><span class="n">s</span> <span class="mi">10</span> <span class="o">-</span><span class="n">n</span> <span class="mi">5</span> <span class="o">-</span><span class="n">c</span> <span class="mi">10</span>
<span class="n">Dance</span><span class="o">-</span><span class="n">Cards</span> <span class="p">(</span><span class="n">v0</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="mi">10</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> 
<span class="mi">5</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> 
<span class="mi">3</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> 
<span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> 
<span class="mi">2</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">2</span> 
<span class="mi">2</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span> 
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span> 
<span class="n">system</span> <span class="ow">is</span> <span class="n">stable</span>
</pre></div>
</div>
</div>
<p>And here is the stripped down solution code I created:</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">dance.cpp</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100</pre></div></td><td class="code"><div class="highlight"><pre><span></span>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;

// defaults
const int MAX_STEPS = 100;
const int MAX_DANCERS = 20;
const int INIT_STEPS = 10;
const int INIT_DANCERS = 5;
const int INIT_CARDS = 6;

// globals are UGLY!
int cards[MAX_DANCERS+1] = {0};
int nsteps = INIT_STEPS;
int ndancers = INIT_DANCERS;
int ncards = INIT_CARDS;
bool debug = false;
bool stable = false;

void usage() {
    std::cout &lt;&lt; &quot;Usage: &quot; 
        &lt;&lt; &quot;dancer [-d] [-c cards] [-n dancers] [-s steps]&quot;
        &lt;&lt; std::endl;
    exit(1);
}

void show_cards() {
    // display the current cards
    for(int i=0;i&lt;ndancers+1;i++)
        std::cout &lt;&lt; cards[i] &lt;&lt; &quot; &quot;;
    std::cout &lt;&lt; std::endl;
}
 
std::string show_step(int d) {
    std::ostringstream out;
    out &lt;&lt; &quot;(&quot; 
	    &lt;&lt; cards[d] 
            &lt;&lt; &quot;,&quot; 
            &lt;&lt; cards[d+1] 
            &lt;&lt; &quot;)&quot;;
    return out.str();
}

void arg_parse(int argc, char *argv[]) {
    // process input parameters    
    int i=1;
    while(true) {
        if(i&gt;=argc) break;    
        if(argv[i][0] == &#39;-&#39;)
            switch(argv[i][1]) {
            case &#39;c&#39;: ncards = std::stoi(argv[++i]); break;
            case &#39;n&#39;: ndancers = std::stoi(argv[++i]); break;
            case &#39;s&#39;: nsteps = std::stoi(argv[++i]); break;
            case &#39;d&#39;: debug = true; break;
            default: usage();
        } else usage();
        i++; // look for next arg
    }
}

void dance_step(int dancer, int step) {
    // this dancer needs to get happy!
    if(debug) std::cout &lt;&lt; &quot;\tstep: &quot; 
            &lt;&lt; step &lt;&lt; &quot; dancer &quot; 
            &lt;&lt; dancer &lt;&lt; std::endl;
    // show current cards
    if(debug) std::cout &lt;&lt; &quot;\t  &quot; 
            &lt;&lt; show_step(dancer) &lt;&lt; &quot; --&gt; &quot;;
    // balance the cards
    // show the final cards
    if(debug) std::cout &lt;&lt; show_step(dancer) &lt;&lt; std::endl;
}

int main(int argc, char *argv[]) {
    // say hello
    std::cout &lt;&lt; &quot;Dance-Cards (v0.1)&quot; &lt;&lt; std::endl;
    arg_parse(argc, argv);
    if(debug) {
        std::cout &lt;&lt; ndancers 
            &lt;&lt; &quot; dancers will dance &quot; 
	    &lt;&lt; nsteps &lt;&lt; &quot; steps&quot; &lt;&lt; std::endl;
        std::cout &lt;&lt; &quot;Initial card count is &quot; 
            &lt;&lt; ncards &lt;&lt; std::endl;
    }
    // let the music begin!
    if(debug) std::cout &lt;&lt; &quot;Let the dance begin!&quot; &lt;&lt; std::endl;
    cards[0] = ncards;
    show_cards();
    for(int step=0; step&lt;nsteps; step++) {
        for(int dancer=0; dancer&lt;ndancers; dancer++){
            dance_step(dancer, step);
        }
        if(stable) {
            std::cout &lt;&lt; &quot;system is stable&quot; &lt;&lt; std::endl;
            break;
        }
        show_cards();
    }
}
        
</pre></div>
</td></tr></table></div>
</div>
<p>This lab uses some coding techniques and style that is common these days. Take
some time to read this example code over, and note how it is presented. We
will pay more attention to style as the term progresses.</p>
</div>
<div class="section" id="submitting-this-lab">
<h2>Submitting this Lab<a class="headerlink" href="#submitting-this-lab" title="Permalink to this headline">¶</a></h2>
<p>Place this in your new <code class="docutils literal notranslate"><span class="pre">labs-username</span></code> repository as usual.</p>
</div>
<div class="section" id="debug-output">
<h2>Debug Output<a class="headerlink" href="#debug-output" title="Permalink to this headline">¶</a></h2>
<p>I added a debug switch (<code class="docutils literal notranslate"><span class="pre">-d</span></code>) for the command line, to generate debug output
that shows how the individual “get happy” steps worked. Here is the debug
output from the sample run shown above:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">sample-run-debug</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Dance-Cards (v0.1)
5 dancers will dance 10 steps
Initial card count is 10
Let the dance begin!
10 0 0 0 0 0 
	step: 0 dancer 0
	  (10,0) --&gt; (5,5)
	step: 0 dancer 1
	  (5,0) --&gt; (2,3)
	step: 0 dancer 2
	  (3,0) --&gt; (1,2)
	step: 0 dancer 3
	  (2,0) --&gt; (1,1)
	step: 0 dancer 4
	  (1,0) --&gt; (0,1)
5 2 1 1 0 1 
	step: 1 dancer 0
	  (5,2) --&gt; (3,4)
	step: 1 dancer 1
	  (4,1) --&gt; (2,3)
	step: 1 dancer 2
	  (3,1) --&gt; (2,2)
	step: 1 dancer 3
	  (2,0) --&gt; (1,1)
	step: 1 dancer 4
	  (1,1) --&gt; (1,1)
3 2 2 1 1 1 
	step: 2 dancer 0
	  (3,2) --&gt; (2,3)
	step: 2 dancer 1
	  (3,2) --&gt; (2,3)
	step: 2 dancer 2
	  (3,1) --&gt; (2,2)
	step: 2 dancer 3
	  (2,1) --&gt; (1,2)
	step: 2 dancer 4
	  (2,1) --&gt; (1,2)
2 2 2 1 1 2 
	step: 3 dancer 0
	  (2,2) --&gt; (2,2)
	step: 3 dancer 1
	  (2,2) --&gt; (2,2)
	step: 3 dancer 2
	  (2,1) --&gt; (1,2)
	step: 3 dancer 3
	  (2,1) --&gt; (1,2)
	step: 3 dancer 4
	  (2,2) --&gt; (2,2)
2 2 1 1 2 2 
	step: 4 dancer 0
	  (2,2) --&gt; (2,2)
	step: 4 dancer 1
	  (2,1) --&gt; (1,2)
	step: 4 dancer 2
	  (2,1) --&gt; (1,2)
	step: 4 dancer 3
	  (2,2) --&gt; (2,2)
	step: 4 dancer 4
	  (2,2) --&gt; (2,2)
2 1 1 2 2 2 
	step: 5 dancer 0
	  (2,1) --&gt; (1,2)
	step: 5 dancer 1
	  (2,1) --&gt; (1,2)
	step: 5 dancer 2
	  (2,2) --&gt; (2,2)
	step: 5 dancer 3
	  (2,2) --&gt; (2,2)
	step: 5 dancer 4
	  (2,2) --&gt; (2,2)
1 1 2 2 2 2 
	step: 6 dancer 0
	  (1,1) --&gt; (1,1)
	step: 6 dancer 1
	  (1,2) --&gt; (1,2)
	step: 6 dancer 2
	  (2,2) --&gt; (2,2)
	step: 6 dancer 3
	  (2,2) --&gt; (2,2)
	step: 6 dancer 4
	  (2,2) --&gt; (2,2)
system is stable
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../../../index.html" title="index">
          <img class="logo" src="../../../_static/ACClogo.png" alt="Logo"/>
        </a></p><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="../../../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Lab 1: The Dance Simulator</a><ul>
<li><a class="reference internal" href="#general-lab-repository">General Lab Repository</a></li>
<li><a class="reference internal" href="#design-in-teams-code-on-your-own">Design in Teams, Code on Your Own</a></li>
<li><a class="reference internal" href="#sample-output">Sample Output</a></li>
<li><a class="reference internal" href="#submitting-this-lab">Submitting this Lab</a></li>
<li><a class="reference internal" href="#debug-output">Debug Output</a></li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/assignments/labs/lab1-dancing/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
    <li><a href="../../../index.html">COSC2325 fall2018 documentation</a> &#187;</li>
 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Roie R. Black.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>